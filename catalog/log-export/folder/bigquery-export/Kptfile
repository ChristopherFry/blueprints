apiVersion: kpt.dev/v1alpha2
kind: Kptfile
metadata:
  name: bigquery-export
info:
  description: Creates a log export on a folder that sinks to BigQuery
pipeline:
  mutators:
    - image: gcr.io/kpt-fn/apply-setters:v0.1
      configMap:
        dataset-description: BigQuery audit logs for folder
        dataset-location: US
        dataset-name: audit-logs
        default-table-expiration-ms: "3600000"
        delete-contents-on-destroy: "false"
        filter: ""
        folder-k8s-name: my.folder.k8s.name
        namespace: my-namespace
        project-id: my-project-id
